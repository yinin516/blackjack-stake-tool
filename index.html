<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>Stake 21é» è¼”åŠ©å·¥å…·</title>
    <style>
        body {
            background: #111;
            color: #fff;
            font-family: 'Arial', sans-serif;
            padding: 20px;
            line-height: 1.6;
        }
        h1 {
            text-align: center;
        }
        label {
            display: block;
            margin-top: 10px;
        }
        select, input, button {
            padding: 5px;
            margin-top: 5px;
            font-size: 16px;
        }
        .section {
            background: #222;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .result {
            font-size: 20px;
            font-weight: bold;
            margin-top: 10px;
            color: #0f0;
        }
    </style>
</head>
<body>

<h1>Stake åŸå‰µ 21é» è¼”åŠ©å·¥å…·</h1>

<div class="section">
    <h2>ğŸ´ åŸºæœ¬ç­–ç•¥å»ºè­°</h2>
    <label>ä½ çš„å…©å¼µç‰Œï¼š</label>
    <select id="card1"></select>
    <select id="card2"></select>

    <label>èŠå®¶æ˜ç‰Œï¼š</label>
    <select id="dealerCard"></select>

    <button onclick="getStrategy()">å–å¾—å»ºè­°</button>
    <div class="result" id="strategyResult">å»ºè­°å°‡é¡¯ç¤ºåœ¨é€™è£¡</div>
</div>

<div class="section">
    <h2>ğŸ’° ä¸‹æ³¨å»ºè­°</h2>
    <label>åˆå§‹æœ¬é‡‘ï¼š</label>
    <input type="number" id="startingBankroll" value="100">

    <label>ç¬¬ä¸€æ³¨é‡‘é¡ï¼š</label>
    <input type="number" id="baseBet" value="5">

    <label>ä¸‹æ³¨ç­–ç•¥ï¼š</label>
    <select id="betStrategy">
        <option value="flat">å›ºå®šä¸‹æ³¨</option>
        <option value="martingale">é¦¬ä¸æ ¼çˆ¾</option>
        <option value="fibonacci">è²»æ³¢é‚£å¥‘</option>
        <option value="anti">åé¦¬ä¸æ ¼çˆ¾</option>
    </select>

    <div>
        <label>å‹è² ç´€éŒ„ï¼š</label>
        <button onclick="recordResult('win')">è´</button>
        <button onclick="recordResult('lose')">è¼¸</button>
        <button onclick="recordResult('push')">å’Œ</button>
    </div>

    <div class="result" id="nextBet">ä¸‹ä¸€æ³¨å»ºè­°ï¼š-</div>
</div>

<script>
    const cards = ["A", "2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K"];
    const fibonacci = [1, 1, 2, 3, 5, 8, 13];
    let fibIndex = 0;
    let currentBet = 0;
    let winStreak = 0;
    let loseStreak = 0;

    const c1 = document.getElementById("card1");
    const c2 = document.getElementById("card2");
    const dc = document.getElementById("dealerCard");

    cards.forEach(c => {
        c1.innerHTML += `<option value="${c}">${c}</option>`;
        c2.innerHTML += `<option value="${c}">${c}</option>`;
        dc.innerHTML += `<option value="${c}">${c}</option>`;
    });

    function getCardValue(card) {
        if (card === "A") return 11;
        if (["K", "Q", "J"].includes(card)) return 10;
        return parseInt(card);
    }

    function getStrategy() {
        const p1 = getCardValue(c1.value);
        const p2 = getCardValue(c2.value);
        const total = p1 + p2;
        const dealer = getCardValue(dc.value);
        let action = "æš«ç„¡å»ºè­°";

        if (total >= 17) action = "åœç‰Œ";
        else if (total >= 13 && dealer <= 6) action = "åœç‰Œ";
        else if (total == 12 && dealer >= 4 && dealer <= 6) action = "åœç‰Œ";
        else if (total <= 11) action = "å«ç‰Œ";
        else action = "å«ç‰Œ";

        document.getElementById("strategyResult").innerText = `å»ºè­°ï¼š${action}`;
    }

    function recordResult(result) {
        const base = parseFloat(document.getElementById("baseBet").value);
        const strat = document.getElementById("betStrategy").value;

        if (result === 'win') {
            loseStreak = 0;
            winStreak++;
            if (strat === 'flat') currentBet = base;
            else if (strat === 'martingale') currentBet = base;
            else if (strat === 'fibonacci') fibIndex = Math.max(0, fibIndex - 2);
            else if (strat === 'anti') currentBet = currentBet > 0 ? currentBet * 2 : base;
        } else if (result === 'lose') {
            winStreak = 0;
            loseStreak++;
            if (strat === 'flat') currentBet = base;
            else if (strat === 'martingale') currentBet = currentBet > 0 ? currentBet * 2 : base;
            else if (strat === 'fibonacci') fibIndex = Math.min(fibonacci.length - 1, fibIndex + 1);
            else if (strat === 'anti') currentBet = base;
        }

        if (strat === 'fibonacci') currentBet = fibonacci[fibIndex] * base;
        if (!currentBet || isNaN(currentBet)) currentBet = base;

        document.getElementById("nextBet").innerText = `ä¸‹ä¸€æ³¨å»ºè­°ï¼š${currentBet.toFixed(2)}`;
    }
</script>

</body>
</html>
